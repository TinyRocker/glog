1.add function macro 2.add DETAIL and DEBUG levels
